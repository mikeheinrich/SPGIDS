<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Navigation Component - Example</title>
    <link rel="stylesheet" href="../../../styles/base.css">
    <link rel="stylesheet" href="../base/base.css">
    <link rel="stylesheet" href="main-navigation-component.css">
    <link rel="stylesheet" href="main-navigation-extended.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: var(--color-gray-bg);
        }
        .example-content {
            margin-left: 53px;
            padding: var(--spacing-lg);
            padding-top: calc(55px + var(--spacing-lg));
            padding-bottom: calc(24px + var(--spacing-lg));
            min-height: 100vh;
            transition: margin-left 0.25s ease;
        }
        .example-content.extended-panel-open {
            margin-left: 373px;
        }
        .example-header {
            background: var(--color-white);
            height: 55px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            border-bottom: 1px solid var(--color-gray-2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--spacing-md);
            z-index: 999;
        }
        .example-footer {
            background: var(--color-white);
            height: 24px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            border-top: 1px solid var(--color-gray-2);
            z-index: 999;
        }
        
        /* Version Toggle Switch */
        .version-toggle {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        .version-toggle-label {
            font-size: var(--text-paragraph);
            color: var(--color-gray-4);
        }
        .version-toggle-label.active {
            color: var(--color-brand);
            font-weight: 700;
        }
        .toggle-switch {
            position: relative;
            width: 56px;
            height: 28px;
            background: var(--color-gray-2);
            border-radius: 14px;
            cursor: pointer;
            transition: background-color 0.25s ease;
        }
        .toggle-switch.active {
            background: var(--color-brand);
        }
        .toggle-switch-handle {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background: var(--color-white);
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: transform 0.25s ease;
        }
        .toggle-switch.active .toggle-switch-handle {
            transform: translateX(28px);
        }
        
        /* Example Sections */
        .example-section {
            background: var(--color-white);
            border-radius: var(--radius-md);
            border: 1px solid var(--color-gray-2);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        .example-section h2 {
            font-size: var(--text-2);
            margin-bottom: var(--spacing-sm);
            color: var(--color-gray-5);
            border-bottom: 2px solid var(--color-brand);
            padding-bottom: var(--spacing-xs);
        }
        .example-section h3 {
            font-size: var(--text-3);
            margin-top: var(--spacing-sm);
            margin-bottom: var(--spacing-xs);
            color: var(--color-gray-4);
        }
        .example-section ul {
            margin-left: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }
        .example-section li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-gray-4);
        }
        .feature-badge {
            display: inline-block;
            padding: 2px 8px;
            background: var(--color-brand);
            color: var(--color-white);
            font-size: var(--text-small);
            border-radius: var(--radius-sm);
            margin-left: var(--spacing-xs);
        }
        
        /* Hide containers based on mode */
        .nav-standard { display: block; }
        .nav-extended { display: none; }
        body.extended-mode .nav-standard { display: none; }
        body.extended-mode .nav-extended { display: block; }
        
        /* Standard mode content */
        .standard-content { display: block; }
        .extended-content { display: none; }
        body.extended-mode .standard-content { display: none; }
        body.extended-mode .extended-content { display: block; }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="example-header">
        <h1 style="margin: 0; font-size: var(--text-3);">Main Navigation Component</h1>
        
        <!-- Version Toggle -->
        <div class="version-toggle">
            <span class="version-toggle-label active" id="labelStandard">Standard</span>
            <div class="toggle-switch" id="versionToggle" role="switch" aria-checked="false" tabindex="0">
                <div class="toggle-switch-handle"></div>
            </div>
            <span class="version-toggle-label" id="labelExtended">Extended <span class="feature-badge">NEW</span></span>
        </div>
    </div>

    <!-- Standard Navigation Container -->
    <aside id="main-navigation-container" class="nav-standard"></aside>
    
    <!-- Extended Navigation Container -->
    <div id="main-navigation-extended-container" class="nav-extended"></div>

    <!-- Example Content -->
    <div class="example-content" id="mainContent">
        <!-- Standard Version Content -->
        <div class="standard-content">
            <div class="example-section">
                <h2>Standard Main Navigation</h2>
                <p>This is the basic Main Navigation component. The sidebar is fixed on the left side of the page.</p>
                <p>Hover over the icons to see tooltips. Click on icons to see the active state change.</p>
                
                <h3>Features:</h3>
                <ul>
                    <li>Fixed left sidebar navigation (53px wide)</li>
                    <li>Tooltips on hover</li>
                    <li>Active state indicator (red left border)</li>
                    <li>Click handlers for each menu item</li>
                    <li>Keyboard accessible</li>
                </ul>
            </div>
            
            <div class="example-section">
                <h2>When to Use</h2>
                <p>Use the <strong>Standard Navigation</strong> when:</p>
                <ul>
                    <li>Your application has a simple navigation structure</li>
                    <li>You don't need sub-navigation or nested items</li>
                    <li>Each icon represents a single destination or action</li>
                </ul>
                <p style="margin-top: var(--spacing-sm);">
                    <strong>Try the Extended version</strong> using the toggle above if you need multi-level navigation with sub-menus.
                </p>
            </div>
        </div>
        
        <!-- Extended Version Content -->
        <div class="extended-content">
            <div class="example-section">
                <h2>Extended Main Navigation <span class="feature-badge">NEW</span></h2>
                <p>This extended version supports multi-level navigation with flyout panels for sub-navigation.</p>
                <p>Click on icons with panels to open the sub-navigation. The first icon shows <strong>categorized navigation</strong>, the second shows a <strong>simple list</strong>.</p>
                
                <h3>Features:</h3>
                <ul>
                    <li>Icon rail (53px) + Flyout panel (320px)</li>
                    <li><strong>Categorized sub-navigation</strong> - Group items under titled headers</li>
                    <li><strong>Simple list sub-navigation</strong> - Flat list without categories</li>
                    <li>Click to toggle panels open/closed</li>
                    <li>Active state indicators on both icons and sub-items</li>
                    <li>Mixed mode - some icons can have panels, others just tooltips</li>
                    <li>Keyboard navigation support</li>
                </ul>
            </div>
            
            <div class="example-section">
                <h2>Panel Types</h2>
                
                <h3>1. Categorized Panel (Icon 1 - Code Brackets)</h3>
                <p>Best for complex applications with many navigation items. Items are grouped under titled category headers like "Styles" and "Something else".</p>
                
                <h3>2. Simple List Panel (Icon 2 - Image)</h3>
                <p>Best for simpler sub-navigation with a flat list of items without grouping.</p>
                
                <h3>3. Tooltip Only (Icon 3 - Folder)</h3>
                <p>Icons without panels show tooltips on hover and trigger direct actions on click.</p>
                
                <h3>4. Settings Panel (Icon 4 - Gear)</h3>
                <p>Another categorized panel example with "General" and "Account" sections.</p>
            </div>
            
            <div class="example-section">
                <h2>When to Use</h2>
                <p>Use the <strong>Extended Navigation</strong> when:</p>
                <ul>
                    <li>Your application has complex navigation hierarchy</li>
                    <li>You need one or two additional levels of navigation</li>
                    <li>Sub-items need to be organized into categories</li>
                    <li>Users need to see available options within each section</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="example-footer"></div>

    <!-- Scripts -->
    <script src="main-navigation-component.js"></script>
    <script src="main-navigation-extended.js"></script>
    <script>
        // SVG Icons
        const icons = {
            home: `<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="21px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21">
                <path d="M 0.5348052313317384 9.421600271212204  L 11.36408381380959 0.23428490905323418  C 11.731129176340279 -0.07633959293830439  12.268870823659718 -0.07633959293830356  12.635916186190407 0.23428490905323418  L 23.464210378287163 9.421600271212204  C 23.68575571201644 9.608805352418342  23.813558447021247 9.88411830831428  23.813558447021247 10.174166712267656  C 23.813558447021247 10.718313130987083  23.37244061464495 11.159430960259549  22.828294192096752 11.159430960259549  C 22.595487325543015 11.159430960259549  22.370200996411384 11.076992997741646  22.192378005906342 10.92673315332311  L 21.187315426803544 10.073266698914898  L 21.187315426803544 17.719026735118554  C 21.18731557456554 19.53149902665306  19.71881459088581 21  17.907326824741325 21  L 6.093657713401772 21  C 4.280641893080822 20.999999999911328  2.8117001828153514 19.53105829998175  2.8117001828153514 17.719026882791876  L 2.8117001828153554 10.069329137418203  L 1.8076219940936569 10.922795591826414  C 1.6326605471132012 11.063737882829718  1.4147510119212832 11.140590525078736  1.1900818382407305 11.140590525078736  C 0.6464180428792408 11.140590525078736  0.20569145714102588 10.6998639424416  0.20569145714102588 10.156200150905484  C 0.20569145714102588 9.875620014131968  0.3254227123879383 9.608373327431643  0.5348052313317384 9.421600271212204  Z M 12 2.2749261547143873  L 4.780480945014765 8.404725014691234  L 4.780480945014765 17.719026735118554  C 4.7804805743878935 18.444172774439842  5.3675283865911965 19.031220582512507  6.091688562012701 19.031220582512507  C 6.09234494608711 19.031220582512507  6.093001330067554 19.0312200896387  6.093657713401772 19  L 17.90634228659823 19  C 17.906670539931884 19.031219350420578  17.906998793346734 19.03121947368513  17.907327046772963 19.03121947368513  C 18.63148722219447 19.03121947368513  19.21853503439777 18.444171665612465  19.21853503439777 17.720011495286357  L 19.218534664604135 8.399803062820366  L 12 2.2749261547143873  Z " fill-rule="nonzero" fill="currentColor" stroke="none" />
            </svg>`,
            profile: `<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="21px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 24">
                <path d="M 21 22.5  C 21 17.94375  17.30625 14.25  12.749999999999998 14.25  L 8.25 14.25  C 3.6937499999999996 14.25  0 17.94375  0 22.5  C 0 23.32828125  0.67171875 24  1.5 24  L 19.5 24  C 20.328281250000003 24  21 23.32828125  21 22.5  Z M 18.703125 21.75  L 2.29640625 21.75  C 2.6667187500000002 18.792187499999997  5.19375 16.5  8.25 16.5  L 12.749999999999998 16.5  C 15.804374999999999 16.5  18.3328125 18.79453125  18.703125 21.75  Z M 4.5 6  C 4.5 9.314062499999999  7.1859375000000005 12  10.5 12  C 13.813593749999999 12  16.5 9.313593749999999  16.5 6  C 16.5 2.68640625  13.813593749999999 0  10.5 0  C 7.18640625 0  4.5 2.68640625  4.5 6  Z M 6.750000000000001 6  C 6.750000000000001 3.9323437500000002  8.432812499999999 2.25  10.5 2.25  C 12.56765625 2.25  14.25 3.9323437500000002  14.25 6  C 14.25 8.06765625  12.56765625 9.75  10.5 9.75  C 8.43234375 9.75  6.750000000000001 8.0671875  6.750000000000001 6  Z " fill-rule="nonzero" fill="currentColor" stroke="none" />
            </svg>`,
            documents: `<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="19px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 19">
                <path d="M 23.871250000000003 9.428325892857142  C 24.1 8.804464285714285  23.991666666666667 8.142857142857142  23.608333333333334 7.616964285714285  C 23.229166666666664 7.086830357142857  22.641666666666666 6.785714285714286  21.962500000000002 7  L 5.591666666666666 7  C 4.762499999999999 6.785714285714286  4.008333333333334 7.315848214285714  3.717916666666667 8.1046875  L 1.3333333333333333 14.580803571428572  L 1.3333333333333333 2.714285714285714  C 1.3333333333333333 1.9661607142857143  1.9316666666666666 1.357142857142857  2.6666666666666665 1.357142857142857  L 7.5625 1.357142857142857  C 7.918708333333334 1.357142857142857  8.253333333333332 1.4982857142857144  8.505416666666667 1.7547433035714286  L 10.779166666666667 4.071428571428571  L 18.666666666666668 4.071428571428571  C 19.401666666666667 4.071428571428571  20 4.680446428571429  20 5.428571428571428  L 21.333333333333332 5.428571428571428  C 21.333333333333332 3.9293526785714286  20.139583333333334 2.714285714285714  18.666666666666668 2.714285714285714  L 11.333333333333332 2.714285714285714  L 9.445833333333333 0.7952008928571428  C 8.945833333333333 0.2858482142857144  8.270833333333334 0  7.5625 0  L 2.6666666666666665 0  C 1.1937499999999999 0  0 1.2150669642857141  0 2.714285714285714  L 0 16.285714285714285  C 0 17.784933035714285  1.1937499999999999 19  2.6666666666666665 19  L 19.462500000000002 19  C 20.342083333333335 19  21.109583333333333 18.42618303571429  21.371250000000003 17.571183035714288  L 23.871250000000003 9.428325892857142  Z M 22.53708333333333 8.419205357142857  C 22.662499999999998 8.596651785714286  22.7 8.8171875  22.633333333333336 9.025  L 20.133333333333336 17.167857142857144  C 20.045833333333334 17.452008928571427  19.791666666666668 17.642857142857142  19.462500000000002 17.642857142857142  L 2.6666666666666665 17.642857142857142  C 2.52825 17.642857142857142  2.4017916666666665 17.602350669642856  2.276125 17.562361607142854  C 2.185125 17.51274107142857  2.104916666666667 17.442254464285714  2.0429583333333334 17.351283482142858  C 1.916666666666667 17.165736607142858  1.888666666666667 16.937779017857142  1.966791666666667 16.726573660714283  L 4.9667916666666665 8.583716517857143  C 5.0625 8.320982142857142  5.3125 8.142857142857142  5.591666666666666 8.142857142857142  L 22 8.142857142857142  C 22.214208333333332 8.142857142857142  22.41016666666667 8.243582589285714  22.53708333333333 8.419205357142857  Z " fill-rule="nonzero" fill="currentColor" stroke="none" />
            </svg>`,
            settings: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12C19.2 11.68 19.18 11.36 19.13 11.06L21.16 9.48C21.34 9.34 21.39 9.07 21.28 8.87L19.36 5.55C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.88 5.91 15.35 5.59 14.76 5.35L14.4 2.81C14.36 2.57 14.16 2.4 13.92 2.4H10.08C9.84 2.4 9.65 2.57 9.61 2.81L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33C5.02 5.25 4.77 5.33 4.65 5.55L2.74 8.87C2.62 9.08 2.66 9.34 2.86 9.48L4.89 11.06C4.84 11.36 4.8 11.69 4.8 12C4.8 12.31 4.82 12.64 4.87 12.94L2.84 14.52C2.66 14.66 2.61 14.93 2.72 15.13L4.64 18.45C4.76 18.67 5.01 18.74 5.23 18.67L7.62 17.71C8.12 18.09 8.65 18.41 9.24 18.65L9.6 21.19C9.65 21.43 9.84 21.6 10.08 21.6H13.92C14.16 21.6 14.36 21.43 14.39 21.19L14.75 18.65C15.34 18.41 15.88 18.09 16.37 17.71L18.76 18.67C18.98 18.75 19.23 18.67 19.35 18.45L21.27 15.13C21.39 14.91 21.34 14.66 21.15 14.52L19.14 12.94ZM12 15.6C10.02 15.6 8.4 13.98 8.4 12C8.4 10.02 10.02 8.4 12 8.4C13.98 8.4 15.6 10.02 15.6 12C15.6 13.98 13.98 15.6 12 15.6Z" fill="currentColor"/>
            </svg>`,
            code: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z" fill="currentColor"/>
            </svg>`,
            image: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="currentColor"/>
            </svg>`,
            folder: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4Z" fill="currentColor"/>
            </svg>`
        };

        // Initialize Standard Navigation
        initMainNavigation({
            menuItems: [
                {
                    label: 'Home',
                    svg: icons.home,
                    active: false,
                    onClick: function(icon, item) {
                        console.log('Home clicked');
                    }
                },
                {
                    label: 'Profile',
                    svg: icons.profile,
                    active: true,
                    onClick: function(icon, item) {
                        console.log('Profile clicked');
                    }
                },
                {
                    label: 'Documents',
                    svg: icons.documents,
                    active: false,
                    onClick: function(icon, item) {
                        console.log('Documents clicked');
                    }
                },
                {
                    label: 'Settings',
                    svg: icons.settings,
                    active: false,
                    onClick: function(icon, item) {
                        console.log('Settings clicked');
                    }
                }
            ]
        });

        // Initialize Extended Navigation
        const mainContent = document.getElementById('mainContent');
        let extendedNav = null;
        
        function initExtendedNav() {
            extendedNav = initMainNavigationExtended({
                containerId: 'main-navigation-extended-container',
                items: [
                    {
                        id: 'styles',
                        label: 'Styles',
                        svg: icons.code,
                        active: true,
                        panel: {
                            type: 'categorized',
                            categories: [
                                {
                                    title: 'Styles',
                                    items: [
                                        { id: 'style-1', label: 'List item', active: true },
                                        { id: 'style-2', label: 'List item' },
                                        { id: 'style-3', label: 'List item' },
                                        { id: 'style-4', label: 'List item' },
                                        { id: 'style-5', label: 'List item' }
                                    ]
                                },
                                {
                                    title: 'Something else',
                                    items: [
                                        { id: 'other-1', label: 'List item', active: true },
                                        { id: 'other-2', label: 'List item' },
                                        { id: 'other-3', label: 'List item' },
                                        { id: 'other-4', label: 'List item' },
                                        { id: 'other-5', label: 'List item' }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        id: 'assets',
                        label: 'Assets',
                        svg: icons.image,
                        panel: {
                            type: 'simple',
                            items: [
                                { id: 'images', label: 'Images' },
                                { id: 'icons', label: 'Icons' },
                                { id: 'fonts', label: 'Fonts' },
                                { id: 'videos', label: 'Videos' },
                                { id: 'documents', label: 'Documents' }
                            ]
                        }
                    },
                    {
                        id: 'files',
                        label: 'Files',
                        svg: icons.folder,
                        onClick: function(id, item, element) {
                            console.log('Files icon clicked (no panel)');
                        }
                    },
                    {
                        id: 'settings',
                        label: 'Settings',
                        svg: icons.settings,
                        panel: {
                            type: 'categorized',
                            categories: [
                                {
                                    title: 'General',
                                    items: [
                                        { id: 'profile', label: 'Profile' },
                                        { id: 'preferences', label: 'Preferences' },
                                        { id: 'notifications', label: 'Notifications' }
                                    ]
                                },
                                {
                                    title: 'Account',
                                    items: [
                                        { id: 'security', label: 'Security' },
                                        { id: 'billing', label: 'Billing' },
                                        { id: 'integrations', label: 'Integrations' }
                                    ]
                                }
                            ]
                        }
                    }
                ],
                onPanelOpen: function(id) {
                    mainContent.classList.add('extended-panel-open');
                },
                onPanelClose: function(id) {
                    mainContent.classList.remove('extended-panel-open');
                },
                onItemClick: function(id, item) {
                    console.log('Extended nav item clicked:', id, item);
                }
            });
            
            // Panel is open by default
            mainContent.classList.add('extended-panel-open');
        }

        // Version Toggle Logic
        const toggle = document.getElementById('versionToggle');
        const labelStandard = document.getElementById('labelStandard');
        const labelExtended = document.getElementById('labelExtended');
        let isExtendedMode = false;
        
        function setMode(extended) {
            isExtendedMode = extended;
            
            if (extended) {
                document.body.classList.add('extended-mode');
                toggle.classList.add('active');
                toggle.setAttribute('aria-checked', 'true');
                labelStandard.classList.remove('active');
                labelExtended.classList.add('active');
                
                // Initialize extended nav if not already done
                if (!extendedNav) {
                    initExtendedNav();
                }
                
                // Check if panel should be open
                if (extendedNav && extendedNav.getCurrentPanel()) {
                    mainContent.classList.add('extended-panel-open');
                }
            } else {
                document.body.classList.remove('extended-mode');
                toggle.classList.remove('active');
                toggle.setAttribute('aria-checked', 'false');
                labelStandard.classList.add('active');
                labelExtended.classList.remove('active');
                mainContent.classList.remove('extended-panel-open');
            }
        }
        
        toggle.addEventListener('click', function() {
            setMode(!isExtendedMode);
        });
        
        toggle.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                setMode(!isExtendedMode);
            }
        });
        
        // Also allow clicking the labels
        labelStandard.addEventListener('click', function() {
            setMode(false);
        });
        
        labelExtended.addEventListener('click', function() {
            setMode(true);
        });
    </script>
</body>
</html>
