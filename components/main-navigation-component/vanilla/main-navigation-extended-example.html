<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Navigation Extended Component - Example</title>
    <link rel="stylesheet" href="../../../styles/base.css">
    <link rel="stylesheet" href="../base/base.css">
    <link rel="stylesheet" href="main-navigation-extended.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: var(--color-gray-bg);
        }
        .example-header {
            background: var(--color-white);
            height: 55px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            border-bottom: 1px solid var(--color-gray-2);
            display: flex;
            align-items: center;
            padding: 0 var(--spacing-md);
            z-index: 999;
        }
        .example-footer {
            background: var(--color-white);
            height: 24px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            border-top: 1px solid var(--color-gray-2);
            z-index: 999;
        }
        .example-content {
            margin-left: 373px; /* Rail (53px) + Panel (320px) */
            padding: var(--spacing-lg);
            padding-top: calc(55px + var(--spacing-lg));
            padding-bottom: calc(24px + var(--spacing-lg));
            min-height: 100vh;
            transition: margin-left 0.2s ease;
        }
        .example-content.panel-closed {
            margin-left: 53px;
        }
        .example-section {
            background: var(--color-white);
            border-radius: var(--radius-md);
            border: 1px solid var(--color-gray-2);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        .example-section h2 {
            font-size: var(--text-2);
            margin-bottom: var(--spacing-sm);
            color: var(--color-gray-5);
            border-bottom: 2px solid var(--color-brand);
            padding-bottom: var(--spacing-xs);
        }
        .example-section h3 {
            font-size: var(--text-3);
            margin-top: var(--spacing-sm);
            margin-bottom: var(--spacing-xs);
            color: var(--color-gray-4);
        }
        .example-section ul {
            margin-left: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }
        .example-section li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-gray-4);
        }
        .code-block {
            background: var(--color-gray-5);
            color: var(--color-white);
            padding: var(--spacing-sm);
            border-radius: var(--radius-md);
            font-family: 'Courier New', monospace;
            font-size: var(--text-small);
            overflow-x: auto;
            margin-top: var(--spacing-sm);
            white-space: pre-wrap;
        }
        .event-log {
            background: var(--color-gray-1);
            padding: var(--spacing-sm);
            border-radius: var(--radius-md);
            margin-top: var(--spacing-sm);
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: var(--text-small);
        }
        .event-log-item {
            padding: 4px 0;
            border-bottom: 1px solid var(--color-gray-2);
        }
        .event-log-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="example-header">
        <h1 style="margin: 0; font-size: var(--text-3);">Main Navigation Extended - Example</h1>
    </div>

    <!-- Extended Navigation Container -->
    <div id="main-navigation-extended-container"></div>

    <!-- Example Content -->
    <div class="example-content" id="mainContent">
        <div class="example-section">
            <h2>Extended Navigation Component</h2>
            <p>This component extends the main navigation to support multi-level navigation with flyout panels.</p>
            
            <h3>Features:</h3>
            <ul>
                <li><strong>Icon Rail:</strong> Fixed left sidebar with navigation icons</li>
                <li><strong>Flyout Panels:</strong> Click an icon to open its sub-navigation panel</li>
                <li><strong>Categorized Navigation:</strong> Group sub-items into titled categories</li>
                <li><strong>Simple List Navigation:</strong> Single flat list of sub-items</li>
                <li><strong>Active States:</strong> Visual indicators for selected items</li>
                <li><strong>Keyboard Navigation:</strong> Arrow keys and Enter/Space support</li>
                <li><strong>Accessibility:</strong> ARIA attributes and roles</li>
            </ul>
        </div>

        <div class="example-section">
            <h2>Navigation Variants</h2>
            
            <h3>1. Categorized Sub-Navigation (Complex)</h3>
            <p>Click the first icon (code brackets) to see a panel with categorized sub-navigation. This is the most complex variant, showing items grouped under titled sections.</p>
            
            <h3>2. Simple List Sub-Navigation</h3>
            <p>Click the second icon (image) to see a simple flat list without categories.</p>
            
            <h3>3. Icon without Panel</h3>
            <p>The third icon (folder) has no panel - it just shows a tooltip on hover and triggers an action on click.</p>
        </div>

        <div class="example-section">
            <h2>Event Log</h2>
            <p>Interactions with the navigation are logged below:</p>
            <div class="event-log" id="eventLog">
                <div class="event-log-item">Ready - Click navigation items to see events...</div>
            </div>
        </div>

        <div class="example-section">
            <h2>Usage Example</h2>
            <div class="code-block">// Initialize with custom items
initMainNavigationExtended({
    containerId: 'main-navigation-extended-container',
    items: [
        {
            id: 'styles',
            label: 'Styles',
            svg: '&lt;svg ...&gt;...&lt;/svg&gt;',
            active: true,
            panel: {
                type: 'categorized',
                categories: [
                    {
                        title: 'Typography',
                        items: [
                            { id: 'headings', label: 'Headings', active: true },
                            { id: 'body', label: 'Body Text' },
                            { id: 'links', label: 'Links' }
                        ]
                    },
                    {
                        title: 'Colors',
                        items: [
                            { id: 'primary', label: 'Primary Colors' },
                            { id: 'secondary', label: 'Secondary Colors' },
                            { id: 'neutrals', label: 'Neutrals' }
                        ]
                    }
                ]
            }
        },
        {
            id: 'components',
            label: 'Components',
            svg: '&lt;svg ...&gt;...&lt;/svg&gt;',
            panel: {
                type: 'simple',
                items: [
                    { id: 'buttons', label: 'Buttons' },
                    { id: 'inputs', label: 'Inputs' },
                    { id: 'modals', label: 'Modals' }
                ]
            }
        }
    ],
    onIconClick: (id, item) => console.log('Icon clicked:', id),
    onItemClick: (id, item) => console.log('Item clicked:', id),
    onPanelOpen: (id) => console.log('Panel opened:', id),
    onPanelClose: (id) => console.log('Panel closed:', id)
});</div>
        </div>

        <div class="example-section">
            <h2>API Methods</h2>
            <div class="code-block">const nav = initMainNavigationExtended({ ... });

// Open a specific panel
nav.openPanel('styles');

// Close all panels
nav.closeAllPanels();

// Set active icon
nav.setActiveIcon('components');

// Set active sub-item
nav.setActiveItem('buttons');

// Get current open panel ID
const currentPanel = nav.getCurrentPanel();</div>
        </div>
    </div>

    <!-- Footer -->
    <div class="example-footer"></div>

    <script src="main-navigation-extended.js"></script>
    <script>
        // Event log helper
        function logEvent(message) {
            const log = document.getElementById('eventLog');
            const time = new Date().toLocaleTimeString();
            const item = document.createElement('div');
            item.className = 'event-log-item';
            item.textContent = `[${time}] ${message}`;
            log.insertBefore(item, log.firstChild);
            // Keep only last 20 entries
            while (log.children.length > 20) {
                log.removeChild(log.lastChild);
            }
        }

        // Content margin adjustment
        const mainContent = document.getElementById('mainContent');
        
        // Initialize extended navigation with full example
        const nav = initMainNavigationExtended({
            containerId: 'main-navigation-extended-container',
            items: [
                {
                    id: 'styles',
                    label: 'Styles',
                    svg: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z" fill="currentColor"/>
                    </svg>`,
                    active: true,
                    panel: {
                        type: 'categorized',
                        categories: [
                            {
                                title: 'Styles',
                                items: [
                                    { id: 'style-1', label: 'List item', active: true },
                                    { id: 'style-2', label: 'List item' },
                                    { id: 'style-3', label: 'List item' },
                                    { id: 'style-4', label: 'List item' },
                                    { id: 'style-5', label: 'List item' }
                                ]
                            },
                            {
                                title: 'Something else',
                                items: [
                                    { id: 'other-1', label: 'List item', active: true },
                                    { id: 'other-2', label: 'List item' },
                                    { id: 'other-3', label: 'List item' },
                                    { id: 'other-4', label: 'List item' },
                                    { id: 'other-5', label: 'List item' }
                                ]
                            }
                        ]
                    }
                },
                {
                    id: 'assets',
                    label: 'Assets',
                    svg: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="currentColor"/>
                    </svg>`,
                    panel: {
                        type: 'simple',
                        items: [
                            { id: 'images', label: 'Images' },
                            { id: 'icons', label: 'Icons' },
                            { id: 'fonts', label: 'Fonts' },
                            { id: 'videos', label: 'Videos' },
                            { id: 'documents', label: 'Documents' }
                        ]
                    }
                },
                {
                    id: 'files',
                    label: 'Files',
                    svg: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4Z" fill="currentColor"/>
                    </svg>`,
                    onClick: function(id, item, element) {
                        logEvent(`Simple icon clicked: ${item.label} (no panel)`);
                    }
                    // No panel - just an icon with tooltip
                },
                {
                    id: 'settings',
                    label: 'Settings',
                    svg: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12C19.2 11.68 19.18 11.36 19.13 11.06L21.16 9.48C21.34 9.34 21.39 9.07 21.28 8.87L19.36 5.55C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.88 5.91 15.35 5.59 14.76 5.35L14.4 2.81C14.36 2.57 14.16 2.4 13.92 2.4H10.08C9.84 2.4 9.65 2.57 9.61 2.81L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33C5.02 5.25 4.77 5.33 4.65 5.55L2.74 8.87C2.62 9.08 2.66 9.34 2.86 9.48L4.89 11.06C4.84 11.36 4.8 11.69 4.8 12C4.8 12.31 4.82 12.64 4.87 12.94L2.84 14.52C2.66 14.66 2.61 14.93 2.72 15.13L4.64 18.45C4.76 18.67 5.01 18.74 5.23 18.67L7.62 17.71C8.12 18.09 8.65 18.41 9.24 18.65L9.6 21.19C9.65 21.43 9.84 21.6 10.08 21.6H13.92C14.16 21.6 14.36 21.43 14.39 21.19L14.75 18.65C15.34 18.41 15.88 18.09 16.37 17.71L18.76 18.67C18.98 18.75 19.23 18.67 19.35 18.45L21.27 15.13C21.39 14.91 21.34 14.66 21.15 14.52L19.14 12.94ZM12 15.6C10.02 15.6 8.4 13.98 8.4 12C8.4 10.02 10.02 8.4 12 8.4C13.98 8.4 15.6 10.02 15.6 12C15.6 13.98 13.98 15.6 12 15.6Z" fill="currentColor"/>
                    </svg>`,
                    panel: {
                        type: 'categorized',
                        categories: [
                            {
                                title: 'General',
                                items: [
                                    { id: 'profile', label: 'Profile' },
                                    { id: 'preferences', label: 'Preferences' },
                                    { id: 'notifications', label: 'Notifications' }
                                ]
                            },
                            {
                                title: 'Account',
                                items: [
                                    { id: 'security', label: 'Security' },
                                    { id: 'billing', label: 'Billing' },
                                    { id: 'integrations', label: 'Integrations' }
                                ]
                            }
                        ]
                    }
                }
            ],
            onIconClick: function(id, item, element) {
                logEvent(`Icon clicked: ${id}`);
            },
            onItemClick: function(id, item, element) {
                logEvent(`Sub-item clicked: ${id} - "${item ? item.label : 'unknown'}"`);
            },
            onPanelOpen: function(id, item) {
                logEvent(`Panel opened: ${id}`);
                mainContent.classList.remove('panel-closed');
            },
            onPanelClose: function(id, item) {
                logEvent(`Panel closed: ${id}`);
                mainContent.classList.add('panel-closed');
            }
        });

        logEvent('Navigation initialized');
    </script>
</body>
</html>


